## [幂等性](https://github.com/will-yinchengxin/RocketMQ-RabbitMQ/blob/master/RocketMQ/%E4%B8%BB%E4%BB%8E%E7%BB%93%E6%9E%84/RocketMQ%E4%B8%BB%E4%BB%8E.md)

### 产生问题原因：
- 生产者多次发送同一条消息，导致消费者多次消息同一条消息，因此出现重复问题
- 生产者发送一次消息，但消费者多次消费同一条消息，因此出现重复问题

### 解决办法
推荐办法：
> Redis缓存唯一id，如果这个唯一id已经被消费过后，会存在Redis中。当这个唯一id再次被消费时，就会被过滤，不操作。
这也是一种幂等性的实现方法。但Redis容易丢数据，这也是需要考虑的。

- 如果你的并发量不高，直接用数据库即可解决。
- 如果你允许有误差，允许重复发放优惠券，只追求高并发量，直接用Redis即可。
- 如果你既要并发量，也要准确性，可以结合数据库+Redis的方案，但这种方案实现复杂度比较高。